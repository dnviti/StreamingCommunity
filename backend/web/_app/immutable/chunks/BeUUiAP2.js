const g=["en","it"],m="PARAGLIDE_LOCALE";const h=["cookie","globalVariable","baseLocale"];globalThis.__paraglide={};let c,u=!1,w=()=>{let e;for(const o of h){if(o==="cookie")e=$();else if(o==="baseLocale")e="en";else if(o==="globalVariable"&&c!==void 0)e=c;else if(L(o)&&s.has(o)){const t=s.get(o);if(t){const a=t.getLocale();if(a instanceof Promise)continue;e=a}}if(e!==void 0){const t=y(e);return u||(c=t,u=!0,b(t,{reload:!1})),t}}throw new Error("No locale found. Read the docs https://inlang.com/m/gerre34r/library-inlang-paraglideJs/errors#no-locale-found")};const d=e=>{window.location.reload()};let b=(e,o)=>{const t={reload:!0,...o};let a;try{a=w()}catch{}const i=[];for(const n of h)if(n==="globalVariable")c=e;else if(n==="cookie"){if(typeof document>"u"||typeof window>"u")continue;const l=`${m}=${e}; path=/; max-age=34560000`;document.cookie=l}else{if(n==="baseLocale")continue;if(L(n)&&s.has(n)){const l=s.get(n);if(l){let r=l.setLocale(e);r instanceof Promise&&(r=r.catch(p=>{throw new Error(`Custom strategy "${n}" setLocale failed.`,{cause:p})}),i.push(r))}}}if(t.reload&&window.location&&e!==a){if(i.length)return Promise.all(i).then(()=>{d()});d()}else if(i.length)return Promise.all(i)},k=()=>typeof window<"u"?window.location.origin:"http://fallback.com";function f(e){return e?g.includes(e):!1}function y(e){if(f(e)===!1)throw new Error(`Invalid locale: ${e}. Expected one of: ${g.join(", ")}`);return e}function $(){if(typeof document>"u"||!document.cookie)return;const o=document.cookie.match(new RegExp(`(^| )${m}=([^;]+)`))?.[2];if(f(o))return o}function E(e){return x(e)}function x(e){const o=typeof e=="string"?new URL(e,k()):new URL(e),t=o.pathname.split("/").filter(Boolean);return t.length>0&&f(t[0])&&(o.pathname="/"+t.slice(1).join("/")),o}const s=new Map;function L(e){return typeof e=="string"&&/^custom-[A-Za-z0-9_-]+$/.test(e)}export{E as d,w as g,b as s};
